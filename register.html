<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#1E2A38">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Register - Real Estate Rewards Program</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="register.css">
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="register-page">
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="index.html">
                    <img src="assets/images/logo.png" alt="DeedDraw Logo">
                </a>
            </div>
            <div class="nav-menu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="how-it-works.html" class="nav-link">How It Works</a>
                <a href="prizes.html" class="nav-link">Prizes</a>
                <a href="register.html" class="nav-link active">Register</a>
                <a href="winners.html" class="nav-link">Winners</a>
                <a href="contact.html" class="nav-link">Contact</a>
                
                <!-- Mobile-only nav links (hidden on desktop, shown instead of dropdown on mobile) -->
                <a href="leaderboard.html" class="nav-link mobile-only-nav-link" style="display: none;">
                    <i class="fas fa-trophy"></i>
                    Points Leaderboard
                </a>
                <a href="rules.html" class="nav-link mobile-only-nav-link" style="display: none;">
                    <i class="fas fa-gavel"></i>
                    Rules & Regulations
                </a>
                <a href="faqs.html" class="nav-link mobile-only-nav-link" style="display: none;">
                    <i class="fas fa-question-circle"></i>
                    FAQs
                </a>
                
                <div class="dropdown">
                    <a href="#" class="nav-link dropdown-toggle">
                        <i class="fas fa-chevron-down"></i> More
                    </a>
                    <div class="dropdown-menu">
                        <a href="leaderboard.html" class="dropdown-item">
                            <i class="fas fa-trophy"></i>
                            Points Leaderboard
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="rules.html" class="dropdown-item">
                            <i class="fas fa-gavel"></i>
                            Rules & Regulations
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="faqs.html" class="dropdown-item">
                            <i class="fas fa-question-circle"></i>
                            FAQs
                        </a>
                    </div>
                </div>
            </div>
            <div class="nav-auth">
                <a href="login.html" class="nav-link login-btn" id="login-btn">
                    <i class="fas fa-sign-in-alt"></i>
                    Login
                </a>
                <a href="dashboard.html" class="nav-link dashboard-btn" style="display: none;" id="dashboard-btn">
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard
                </a>
                
                <!-- User Profile Circle (Hidden by default) -->
                <div style="position: relative; display: none;" id="profile-circle">
                    <div class="user-avatar" onmouseenter="showMenu()" onmouseleave="hideMenuDelayed()" style="
                        width: 60px; 
                        height: 60px; 
                        background: rgba(51, 65, 85, 0.8); 
                        border-radius: 50%; 
                        display: flex; 
                        align-items: center; 
                        justify-content: center; 
                        cursor: pointer;
                        border: 3px solid #F59E0B;
                        transition: all 0.3s ease;
                    ">
                        <span style="color: #F59E0B; font-weight: 800; font-size: 1rem; font-family: 'Josefin Sans', sans-serif;" id="user-initials-register">JD</span>
                    </div>
                    
                    <!-- Dropdown Menu -->
                    <div id="user-dropdown-register" onmouseenter="showMenu()" onmouseleave="hideMenuDelayed()" style="
                        position: absolute;
                        top: 100%;
                        right: 0;
                        margin-top: 8px;
                        background: #1E2A38;
                        border-radius: 8px;
                        box-shadow: 0 8px 25px rgba(0,0,0,0.3);
                        min-width: 180px;
                        display: none;
                        z-index: 1001;
                    ">
                        <!-- User Info Header -->
                        <div style="padding: 16px 20px; border-radius: 8px 8px 0 0;">
                            <div style="font-weight: 600; color: #F59E0B; font-size: 1rem;" id="dropdown-user-name-register">John Doe</div>
                            <div style="font-size: 0.8rem; color: #b8c5d6; margin-top: 2px;" id="dropdown-user-category-register">Real Estate Agent</div>
                        </div>
                        
                        <!-- Divider -->
                        <div style="border-top: 1px solid rgba(255,255,255,0.1); margin: 0 auto; width: 85%;"></div>
                        
                        <!-- Dashboard Link -->
                        <a href="dashboard.html" class="dropdown-item" style="display: block; padding: 12px 20px; color: #fff; text-decoration: none; font-size: 0.9rem; transition: all 0.2s;">
                            <i class="fas fa-tachometer-alt" style="margin-right: 10px; width: 16px; color: #fff;"></i>
                            Dashboard
                        </a>
                        
                        <!-- Logout -->
                        <a href="#" onclick="logout(); return false;" class="dropdown-item logout-item" style="display: block; padding: 12px 20px; color: #fff; text-decoration: none; font-size: 0.9rem; transition: all 0.2s;">
                            <i class="fas fa-sign-out-alt" style="margin-right: 10px; width: 16px; color: #fff;"></i>
                            Logout
                        </a>
                    </div>
                </div>
            </div>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1 class="hero-title">
                Join DeedDraw Today
                <span class="hero-highlight">Start Your Journey</span>
            </h1>
            <p class="hero-subtitle">
                Start earning points and enter exciting prize drawings. 
                <span class="hero-accent">Registration is quick and easy.</span>
            </p>
            <div class="golden-line"></div>
            <div class="hero-cta">
                <button class="btn btn-primary-hero" onclick="window.location.href='dashboard.html'">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Go to Dashboard</span>
                </button>
                <button class="btn btn-secondary-hero" onclick="window.location.href='how-it-works.html'">
                    <i class="fas fa-info-circle"></i>
                    <span>How It Works</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Transform Success Section -->
    <section class="transform-success-section" id="transform-success">
        <div class="transform-success-container">
            <div class="section-header">
                <h2 class="section-title">Transform Your Real Estate Success</h2>
                <p class="section-subtitle">Turn every deal into a winning opportunity with DeedDraw's revolutionary rewards program</p>
                <div class="golden-line"></div>
            </div>
            
            <div class="success-content">
                <div class="success-stats">
                    <div class="stat-item">
                        <div class="stat-number">100+</div>
                        <div class="stat-label">Active Professionals</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">$500,000</div>
                        <div class="stat-label">Total Prize Pool</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">400</div>
                        <div class="stat-label">Points Trigger Drawing</div>
                    </div>
                </div>
                
                <div class="success-features">
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <div class="feature-content">
                            <h3 class="feature-title">Life-Changing Prizes</h3>
                            <p class="feature-description">Win up to $300,000 in our grand prize drawing, plus multiple $50,000 and $20,000 prizes</p>
                        </div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="feature-content">
                            <h3 class="feature-title">Turn Deals Into Rewards</h3>
                            <p class="feature-description">Every $500,000 in transactions earns you 1 point toward amazing prizes</p>
                        </div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="feature-content">
                            <h3 class="feature-title">Fair & Transparent</h3>
                            <p class="feature-description">Secure verification process with transparent drawing conducted by licensed professionals</p>
                        </div>
                    </div>
                </div>
                
                <div class="current-drawing">
                    <div class="drawing-status">
                        <h3 class="drawing-title">Current Drawing Progress</h3>
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill" id="register-progress-fill" style="width: 0%"></div>
                            </div>
                            <div class="progress-text">
                                <span class="progress-current" id="register-current-points">0 points</span>
                                <span class="progress-target">/ 400 points</span>
                            </div>
                        </div>
                        <p class="progress-message">Only <span id="register-points-remaining">400</span> more points needed to trigger the next $500,000 drawing!</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Start Your Journey Section -->
    <section class="start-journey-section" id="start-journey">
        <div class="journey-container">
            <div class="journey-content">
                <h2 class="journey-title">You could be the next $300,000 winner!</h2>
                <button class='glowing-btn' onclick="window.location.href='dashboard.html'">
                    <span class='glowing-txt'>S<span class='faulty-letter'>T</span><ARea></ARea>ART</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Trust & Security Section -->
    <section class="trust-security-section" id="trust-security">
        <div class="trust-security-container">
            <div class="section-header">
                <h2 class="section-title">Your Security is Our Priority</h2>
                <p class="section-subtitle">Join with confidence - your data and transactions are protected by industry-leading security measures</p>
                <div class="golden-line"></div>
            </div>
            
            <div class="security-content">
                <div class="security-cards">
                    <div class="security-card">
                        <div class="security-icon">
                            <i class="fa-solid fa-unlock-keyhole"></i>
                        </div>
                        <div class="security-card-content">
                            <h3 class="security-card-title">Bank-Grade Encryption</h3>
                            <p class="security-card-description">Your personal and financial information is protected with 256-bit SSL encryption, the same security used by major banks.</p>
                        </div>
                    </div>
                    
                    <div class="security-card">
                        <div class="security-icon">
                            <i class="fas fa-gavel"></i>
                        </div>
                        <div class="security-card-content">
                            <h3 class="security-card-title">Fully Licensed & Compliant</h3>
                            <p class="security-card-description">Licensed under Canadian gaming regulations with full compliance to privacy laws and real estate industry standards.</p>
                        </div>
                    </div>
                    
                    <div class="security-card">
                        <div class="security-icon">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <div class="security-card-content">
                            <h3 class="security-card-title">Professional Verification</h3>
                            <p class="security-card-description">Transaction verification only required if selected as winner. Your submissions are confidential and securely stored.</p>
                        </div>
                    </div>
                    
                    <div class="security-card">
                        <div class="security-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <div class="security-card-content">
                            <h3 class="security-card-title">Complete Transparency</h3>
                            <p class="security-card-description">Open drawing process with third-party oversight. All winners publicly announced with full accountability.</p>
                        </div>
                    </div>
                </div>
                
                <div class="trust-badges">
                    <div class="badge-item">
                        <i class="fas fa-lock"></i>
                        <span>SSL Secured</span>
                    </div>
                    <div class="badge-item">
                        <i class="fas fa-user-shield"></i>
                        <span>Privacy Protected</span>
                    </div>
                    <div class="badge-item">
                        <i class="fa-brands fa-canadian-maple-leaf"></i>
                        <span>Canadian Licensed</span>
                    </div>
                    <div class="badge-item">
                        <i class="fas fa-database"></i>
                        <span>Encrypted Data</span>
                    </div>
                </div>
                
                <div class="trust-cta">
                    <div class="trust-cta-content">
                        <h3 class="trust-cta-title">Ready to join Canadian real estate professionals who trust DeedDraw?</h3>
                        <p class="trust-cta-description">Your registration is secure, private, and takes less than 3 minutes</p>
                        <p class="trust-cta-note">Complete transparency, secure data protection, no hidden fees.</p>
                    </div>
                </div>
                <h4 class="trust-cta-title"><br>Want to discover the complete process? <a href="how-it-works.html" class="learn-more-link">Learn more</a></h4>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-main">
            <div class="container">
                <div class="footer-content">
                    <!-- Company Info -->
                    <div class="footer-section">
                        <div class="footer-logo">
                            <img src="assets/images/logo.png" alt="DeedDraw Logo">
                            <p>Turning real estate success into life-changing opportunities through transparent, fair rewards.</p>
                        </div>
                        <div class="footer-social">
                            <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                            <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                            <a href="https://www.instagram.com/deeddraw" target="_blank" rel="noopener noreferrer" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>

                    <!-- Quick Links -->
                    <div class="footer-section">
                        <h4>Quick Links</h4>
                        <ul>
                            <li><a href="how-it-works.html">How It Works</a></li>
                            <li><a href="index.html#calculator">Point Calculator</a></li>
                            <li><a href="leaderboard.html">Participants</a></li>
                            <li><a href="register.html" id="footer-register-link">Register Now</a></li>
                        </ul>
                    </div>

                    <!-- Support -->
                    <div class="footer-section">
                        <h4>Support</h4>
                        <ul>
                            <li><a href="faqs.html">FAQs</a></li>
                            <li><a href="contact.html">Contact Us</a></li>
                            <li><a href="rules.html">Rules & Regulations</a></li>
                            <li><a href="leaderboard.html">View Leaderboard</a></li>
                        </ul>
                    </div>

                    <!-- Legal -->
                    <div class="footer-section">
                        <h4>Legal</h4>
                        <ul>
                            <li><a href="rules.html#terms-of-service">Terms of Service</a></li>
                            <li><a href="rules.html#privacy-policy">Privacy Policy</a></li>
                            <li><a href="rules.html#drawing-rules">Drawing Rules</a></li>
                            <li><a href="rules.html#disclaimer">Disclaimer</a></li>
                        </ul>
                    </div>

                    <!-- Contact Info -->
                    <div class="footer-section">
                        <h4>Get In Touch</h4>
                        <div class="contact-info">
                            <div class="contact-item">
                                <i class="fas fa-envelope"></i>
                                <span>support@deeddraw.com</span>
                            </div>
                            <div class="contact-item">
                                <i class="fas fa-phone"></i>
                                <span>1 - (604) 670-8080</span>
                            </div>
                            <div class="contact-item">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>808 Marine Drive<br>West Vancouver, BC<br>Canada</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer Bottom -->
        <div class="footer-bottom">
            <div class="container">
                <div class="footer-bottom-content">
                    <div class="footer-copyright">
                        <p>&copy; 2025 DeedDraw. All rights reserved. | <span class="trust-text">SSL Secured</span> | <span class="trust-text">Bank-Grade Security</span> | <span class="trust-text">Verified Platform</span></p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript for hero buttons and navbar functionality -->
    <script>
        // Smooth scrolling function for hero buttons
        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }

        // Scroll animations for boxes
        document.addEventListener('DOMContentLoaded', function() {
            const statItems = document.querySelectorAll('.stat-item');
            const featureItems = document.querySelectorAll('.feature-item');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate');
                        observer.unobserve(entry.target); // Only animate once
                    }
                });
            }, {
                threshold: 0.2, // Trigger when 20% of element is visible
                rootMargin: '0px 0px -50px 0px' // Start animation 50px before element comes into view
            });
            
            // Observe all stat and feature items
            statItems.forEach(item => observer.observe(item));
            featureItems.forEach(item => observer.observe(item));
        });
    </script>

    <!-- JavaScript for navbar functionality -->
    <script>
        // Profile dropdown functions - Make them global
        let hideTimeout;

        window.showMenu = function() {
            clearTimeout(hideTimeout);
            const dropdown = document.getElementById('user-dropdown-register');
            if (dropdown) {
                dropdown.style.display = 'block';
            }
        };

        window.hideMenuDelayed = function() {
            hideTimeout = setTimeout(function() {
                const dropdown = document.getElementById('user-dropdown-register');
                if (dropdown) {
                    dropdown.style.display = 'none';
                }
            }, 200); // Small delay to prevent flickering when moving between avatar and dropdown
        };

        window.logout = function() {
            // Clear user session
            localStorage.removeItem('userSession');
            sessionStorage.removeItem('userSession');
            
            // Show logout message
            alert('You have been logged out successfully.');
            
            // Redirect to home page
            window.location.href = 'index.html';
        };

        // Check user session and update navbar
        function checkUserSession() {
            const sessionData = localStorage.getItem('userSession') || sessionStorage.getItem('userSession');
            const userData = localStorage.getItem('userData') || sessionStorage.getItem('userData');
            
            if (sessionData && userData) {
                try {
                    const session = JSON.parse(sessionData);
                    const user = JSON.parse(userData);
                    
                    if (user && session.userId && session.email) {
                        // User is logged in - show profile circle, hide login button
                        const loginBtn = document.getElementById('login-btn');
                        const profileCircle = document.getElementById('profile-circle');
                        
                        loginBtn.style.display = 'none';
                        loginBtn.style.visibility = 'hidden';
                        loginBtn.style.opacity = '0';
                        loginBtn.style.position = 'absolute';
                        loginBtn.style.pointerEvents = 'none';
                        
                        profileCircle.style.display = 'block';
                        profileCircle.style.visibility = 'visible';
                        profileCircle.style.opacity = '1';
                        profileCircle.style.position = 'relative';
                        profileCircle.style.pointerEvents = 'auto';
                        
                        // Update user info in profile circle
                        const initials = (user.firstName[0] + user.lastName[0]).toUpperCase();
                        document.getElementById('user-initials-register').textContent = initials;
                        document.getElementById('dropdown-user-name-register').textContent = user.firstName + ' ' + user.lastName;
                        
                        // Map category codes to readable names
                        const categoryMap = {
                            'agent-broker': 'Real Estate Agent',
                            'developer': 'Developer', 
                            'sales-marketing': 'Sales & Marketing',
                            'mortgage-broker': 'Mortgage Broker',
                            'individual': 'Individual'
                        };
                        
                        const categoryDisplay = categoryMap[user.category] || user.category;
                        document.getElementById('dropdown-user-category-register').textContent = categoryDisplay;
                        
                        return;
                    } else {
                        localStorage.removeItem('userSession');
                        sessionStorage.removeItem('userSession');
                        localStorage.removeItem('userData');
                        sessionStorage.removeItem('userData');
                    }
                } catch (error) {
                    localStorage.removeItem('userSession');
                    sessionStorage.removeItem('userSession');
                    localStorage.removeItem('userData');
                    sessionStorage.removeItem('userData');
                }
            }
            
            // User is not logged in - show login button, hide profile circle
            const loginBtn = document.getElementById('login-btn');
            const profileCircle = document.getElementById('profile-circle');
            
            loginBtn.style.display = 'flex';
            loginBtn.style.visibility = 'visible';
            loginBtn.style.opacity = '1';
            loginBtn.style.position = 'relative';
            loginBtn.style.pointerEvents = 'auto';
            
            profileCircle.style.display = 'none';
            profileCircle.style.visibility = 'hidden';
            profileCircle.style.opacity = '0';
            profileCircle.style.position = 'absolute';
            profileCircle.style.pointerEvents = 'none';
        }

        // Check session when page loads
        document.addEventListener('DOMContentLoaded', function() {
            checkUserSession();
        });

        // Add hover effects to dropdown items
        document.addEventListener('DOMContentLoaded', function() {
            const dropdownItems = document.querySelectorAll('.dropdown-item');
            dropdownItems.forEach(item => {
                item.addEventListener('mouseenter', function() {
                    this.style.backgroundColor = '#2B394A';
                    this.style.color = '#F59E0B';
                    
                    // Also change icon color to gold
                    const icon = this.querySelector('i');
                    if (icon) {
                        icon.style.color = '#F59E0B';
                    }
                });
                
                item.addEventListener('mouseleave', function() {
                    this.style.backgroundColor = 'transparent';
                    this.style.color = '#fff';
                    
                    // Reset icon color to white
                    const icon = this.querySelector('i');
                    if (icon) {
                        icon.style.color = '#fff';
                    }
                });
            });
        });
    </script>

    <!-- Hamburger Menu Functionality -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const hamburger = document.querySelector('.hamburger');
            const navMenu = document.querySelector('.nav-menu');
            
            if (hamburger && navMenu) {
                hamburger.addEventListener('click', function() {
                    hamburger.classList.toggle('active');
                    navMenu.classList.toggle('active');
                });

                // Close menu when clicking on a nav link
                const navLinks = document.querySelectorAll('.nav-link');
                navLinks.forEach(link => {
                    link.addEventListener('click', () => {
                        hamburger.classList.remove('active');
                        navMenu.classList.remove('active');
                    });
                });

                // Close menu when clicking outside
                document.addEventListener('click', function(event) {
                    const isClickInsideNav = navMenu.contains(event.target);
                    const isClickOnHamburger = hamburger.contains(event.target);
                    
                    if (!isClickInsideNav && !isClickOnHamburger) {
                        hamburger.classList.remove('active');
                        navMenu.classList.remove('active');
                    }
                });
            }
        });
    </script>
    
    <!-- Coming Soon Function for Incomplete Pages -->
    <script>
        function showComingSoon(pageName) {
            alert(`ðŸš§ ${pageName} page is coming soon!\n\nThis section is currently under development. Please check back later for updates.`);
        }
    </script>
    
    <!-- Footer Register Link Handler -->
    <script>
        function handleFooterRegisterClick(e) {
            const token = localStorage.getItem('token');
            if (token) {
                e.preventDefault();
                window.location.href = 'dashboard.html#register';
            }
        }
        document.addEventListener('DOMContentLoaded', function() {
            const footerRegisterLink = document.getElementById('footer-register-link');
            if (footerRegisterLink) {
                footerRegisterLink.addEventListener('click', handleFooterRegisterClick);
            }
        });
    </script>

    <script src="auth.js"></script>
    
    <!-- Load Drawing Progress -->
    <script>
        async function loadRegisterDrawingProgress() {
            const currentPointsElement = document.getElementById('register-current-points');
            const progressFillElement = document.getElementById('register-progress-fill');
            const pointsRemainingElement = document.getElementById('register-points-remaining');
            
            if (!currentPointsElement || !progressFillElement || !pointsRemainingElement) {
                return;
            }
            
            try {
                const apiUrl = window.API_URL || 'https://www.deeddraw.com/api';
                const response = await fetch(`${apiUrl}/public/stats`);
                const result = await response.json();
                
                if (result.success) {
                    const { totalPoints, progress, pointsUntilDraw } = result.data;
                    
                    // Animate progress bar
                    setTimeout(() => {
                        progressFillElement.style.width = progress + '%';
                    }, 100);
                    
                    // Animate points counter
                    const duration = 2000;
                    const steps = 60;
                    const increment = totalPoints / steps;
                    let current = 0;
                    let step = 0;
                    
                    const timer = setInterval(() => {
                        step++;
                        current = Math.min(current + increment, totalPoints);
                        currentPointsElement.textContent = Math.round(current) + ' points';
                        
                        if (step >= steps) {
                            clearInterval(timer);
                            currentPointsElement.textContent = totalPoints + ' points';
                        }
                    }, duration / steps);
                    
                    // Update points remaining
                    pointsRemainingElement.textContent = pointsUntilDraw;
                }
            } catch (error) {
                // Silent error handling
            }
        }
        
        document.addEventListener('DOMContentLoaded', loadRegisterDrawingProgress);
    </script>
    
    <!-- Hero Background Image Fallback Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const heroSection = document.querySelector('.hero');
            if (heroSection) {
                // Try multiple image paths as fallback
                const imagePaths = [
                    '/assets/images/Register-hero.png',
                    './assets/images/Register-hero.png',
                    'assets/images/Register-hero.png',
                    '/assets/images/register-hero.png',
                    './assets/images/register-hero.png',
                    'assets/images/register-hero.png'
                ];
                
                let imageLoaded = false;
                let currentIndex = 0;
                
                function tryLoadImage() {
                    if (currentIndex >= imagePaths.length || imageLoaded) return;
                    
                    const img = new Image();
                    img.onload = function() {
                        if (!imageLoaded) {
                            imageLoaded = true;
                            heroSection.style.backgroundImage = `linear-gradient(135deg, rgba(30, 42, 56, 0.2) 0%, rgba(45, 55, 72, 0.1) 100%), url('${imagePaths[currentIndex]}')`;
                            heroSection.style.backgroundSize = 'cover';
                            heroSection.style.backgroundPosition = 'center center';
                            heroSection.style.backgroundRepeat = 'no-repeat';
                        }
                    };
                    img.onerror = function() {
                        currentIndex++;
                        setTimeout(tryLoadImage, 100);
                    };
                    img.src = imagePaths[currentIndex];
                }
                
                // Start trying to load images
                tryLoadImage();
                
                // Fallback: set a solid color background if no images load
                setTimeout(function() {
                    if (!imageLoaded) {
                        heroSection.style.backgroundColor = '#1e2a38';
                        heroSection.style.background = 'linear-gradient(135deg, #1e2a38 0%, #2c3e50 100%)';
                    }
                }, 3000);
            }
        });
    </script>
</body>
</html>
